# [GraphQL Sequelize R](https://github.com/molaux/graphql-sequelize-r) and [Node exporter](https://github.com/molaux/node-exporter) example

The goal is to convert a [MySQL Workbench](http://www.mysql.com/products/workbench/) Model to a GraphQL API.

This example uses a [slightly modified version of the Skila sample model](tree/master/data/sakila-db/sakila-modified.mwb) from [MySQL](https://dev.mysql.com/doc/sakila/en/sakila-installation.html) : removed unwanted schemas, renamed redundant foreign keys indexes names and modified `lastUpdate` fields default values that sqlite does not implements.

The sample data script has been modified for sqlite.

## Install

```bash
$ composer install
$ yarn
```

## (Re)generate the model (optionnal)

```bash
$ bin/mysql-workbench-schema-export --export=node-Sequelize6 --config=config/mysql-worbench-exporter.json data/sakila-db/sakila-modified.mwb
```

Obviously, your model can be generated by other tools like [sequelize-automate](https://www.npmjs.com/package/sequelize-automate).

## Start

have a look at configuration files in the root directory and its `config` subdirectory.

```bash
$ yarn start-dev
```

The project is configured to use a sqlite database stored in memory so there is no more configuration here.

Note that the project is written for node / ECMAScript module and node is run with `--experimental-specifier-resolution=node` so you need at least node 12. If you use [nvm](https://github.com/nvm-sh/nvm), issue :

```bash
$ nvm use
```

## Playground

The playground should be available at [http://localhost:3331/api](http://localhost:3331/api).

## API documentation

[GraphQL Sequelize R](https://github.com/molaux/graphql-sequelize-r)